@model TonerTracker.Domain.Entity.Machine
@using TonerTracker.Utilities.Constant

@{
   ViewData["Title"] = "Update Machine";
}

<div class="container-fluid pt-4 px-4">
   <div class="row g-4">
      <div class="col-12">
         <div class="theme-bg-secondary theme-font-color rounded h-100 p-4">
            <h1 class="mb-4 display-6">@ViewBag.Title @Model.MachineSerialNo</h1>
            <!--ALERT-->
            @if (Convert.ToString(TempData[SessionConstant.Message]).Length > 1)
            {
               <div class="alert alert-success alert-dismissible text-center fade show" id="alert" role="alert">
                  <i class="bi bi-check-circle-fill"></i>&nbsp; @TempData[SessionConstant.Message]
                  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
               </div>
            }
            <form method="post" enctype="multipart/form-data" asp-action="Update">
               <!-- MachineId -->
               <input type="text" class="form-control theme-black" asp-for="MachineModelNo" hidden />
               @*<!-- Branch Name -->
               <div class="row mb-3">
               <label for="branchId" class="col-4 col-form-label" asp-for="BranchID"></label>
               <div class="col-8">
               <select asp-for="BranchID" asp-items="@ViewBag.BranchId" id="branchId" class="form-control theme-black">
               <option>Select Branch</option>
               </select>
               <span asp-validation-for="BranchID" class="text-danger"></span>
               </div>
               </div>*@
               <!-- Branch Name -->
               <div class="row mb-3">
                  <label for="branchId" class="col-4 col-form-label" asp-for="BranchID"></label>
                  <div class="col-8">
                     <input type="text" value="@Model.Branch.BranchName" readonly class="form-control theme-black" />
                     <input asp-for="BranchID" hidden />
                  </div>
               </div>

               <!-- Machine Model -->
               <div class="row mb-3">
                  <label for="machineModel" class="col-4 col-form-label" asp-for="MachineModelNo"></label>
                  <div class="col-8">
                     <input type="text" class="form-control theme-black" id="machineModel" asp-for="MachineModelNo" placeholder="Enter machine model no.." />
                     <span asp-validation-for="MachineModelNo" class="text-danger"></span>
                  </div>
               </div>

               <!-- Machine Serial No -->
               <div class="row mb-3">
                  <label for="machineSerial" class="col-4 col-form-label" asp-for="MachineSerialNo"></label>
                  <div class="col-8">
                     <input type="text" class="form-control theme-black" id="machineSerial" asp-for="MachineSerialNo" placeholder="Enter machine serial no.." />
                     <span asp-validation-for="MachineSerialNo" class="text-danger"></span>
                  </div>
               </div>

               <!-- Colour Type -->
               @*<div class="row mb-3" id="MachineColourType">
               <label for="colourType" class="col-4 col-form-label" asp-for="ColourType"></label>
               <div class="col-8">
               <select asp-for="ColourType" asp-items="@Html.GetEnumSelectList<TonerTracker.Domain.Entity.ColourType>()" onchange="ColourTypeToner()" id="colourType" class="form-control theme-black">
               <option selected>Select Colour Type</option>
               </select>
               </div>
               </div>*@
               <div class="row mb-3" id="MachineColourType">
                  <label for="colourType" class="col-4 col-form-label" asp-for="ColourType"></label>
                  <div class="col-8">
                     <input value="@Model.ColourType" id="colourType" readonly class="form-control theme-black" />
                     <input asp-for="ColourType" hidden />
                  </div>
               </div>

               
               @if (Model.ColourType == TonerTracker.Domain.Entity.ColourType.BW)
               {
                  <!-- BWPaperPerRate -->
                  <div class="row mb-3 bwPaperRate">
                     <label for="bwPaperRate" class="col-4 col-form-label" asp-for="BWPaperRate"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="bwPaperRate" asp-for="BWPaperRate"/>
                        <span asp-validation-for="BWPaperRate" class="text-danger"></span>
                     </div>
                  </div>

                  <!-- BW Toner Serial No -->
                  <div class="row mb-3 bwToner">
                     <label for="bwModelNo" class="col-4 col-form-label" asp-for="BWModelNo"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="bwModelNo" asp-for="BWModelNo" />
                        <span asp-validation-for="BWModelNo" class="text-danger"></span>
                     </div>
                  </div>
               }

               @if (Model.ColourType == TonerTracker.Domain.Entity.ColourType.Colour)
               {
                  <!-- ColourPaperPerRate -->
                  <div class="row mb-3 colourPaperRate">
                     <label for="colourPaperRate" class="col-4 col-form-label" asp-for="ColourPaperRate"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="colourPaperRate" asp-for="ColourPaperRate" placeholder="Enter bw model no.." />
                        <span asp-validation-for="ColourPaperRate" class="text-danger"></span>
                     </div>
                  </div>

                  <!-- Cyan Toner Serial No -->
                  <div class="row mb-3 cyanToner">
                     <label for="cyanModelNo" class="col-4 col-form-label" asp-for="CyanModelNo"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="cyanModelNo" asp-for="CyanModelNo" placeholder="Enter cyan model no.." />
                        <span asp-validation-for="CyanModelNo" class="text-danger"></span>
                     </div>
                  </div>

                  <!-- Magenta Toner Serial No -->
                  <div class="row mb-3 magentaToner">
                     <label for="magentaModelNo" class="col-4 col-form-label" asp-for="MagentaModelNo"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="magentaModelNo" asp-for="MagentaModelNo" placeholder="Enter magenta model no.." />
                        <span asp-validation-for="MagentaModelNo" class="text-danger"></span>
                     </div>
                  </div>

                  <!-- Yellow Toner Serial No -->
                  <div class="row mb-3 yellowToner">
                     <label for="yellowModelNo" class="col-4 col-form-label" asp-for="YellowModelNo"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="yellowModelNo" asp-for="YellowModelNo" placeholder="Enter yellow model no.." />
                        <span asp-validation-for="YellowModelNo" class="text-danger"></span>
                     </div>
                  </div>

                  <!-- Black Toner Serial No -->
                  <div class="row mb-3 blackToner">
                     <label for="blackModelNo" class="col-4 col-form-label" asp-for="BlackModelNo"></label>
                     <div class="col-8">
                        <input type="text" class="form-control theme-black" id="blackModelNo" asp-for="BlackModelNo" placeholder="Enter black model no.." />
                        <span asp-validation-for="BlackModelNo" class="text-danger"></span>
                     </div>
                  </div>
               }

               <!-- Button -->
               <button type="submit" class="btn btn-primary mt-3 mb-2 me-2"><i class="fas fa-plus-square"></i> &nbsp;Save </button>
               <a asp-controller="Machine" asp-action="Index" asp-route-branchId="@Model.BranchID" class="btn btn-secondary mt-3 mb-2 text-start ">
                  <i class="fas fa-long-arrow-alt-left"></i> &nbsp;Back To Machine List
               </a>
            </form>
         </div>
      </div>
   </div>
</div>

<script type="text/javascript">
   window.setTimeout(function () {
      $('#alert').remove('fast');
   }, 2000);
</script>








